(this["webpackJsonpzeflex-react-app"]=this["webpackJsonpzeflex-react-app"]||[]).push([[0],{34:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return ce}));var n=c(1),r=c.n(n),s=c(27),a=c.n(s),i=c(3),j=c.n(i),l=c(4),d=c(5),o=(c(34),c(63)),u=c(64),b=c(6),O=c(11),h="/api/",x="access-token",v=function(){var e=Object(l.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"movie?id="+t).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"random?number="+t);case 2:return c=e.sent,e.next=5,c.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(l.a)(j.a.mark((function e(t,c){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h+"movies?",void 0!==t.genres&&(n+="genres="+t.genres,n+="&"),void 0!==t.for_kids&&!0===t.for_kids&&(n+="for_kids=1",n+="&"),void 0!==t.release_year&&""!==t.release_year&&(n+="release_year="+t.release_year,n+="&"),void 0!==t.query&&(n+="q="+t.query,n+="&"),void 0!==t.details&&!0===t.details&&(n+="details="+t.details,n+="&"),void 0!==c&&(n+="page="+c),e.next=9,fetch(n).then((function(e){return e.json()}));case 9:return r=e.sent,e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h+"genre",e.next=3,fetch("/api/genre").then((function(e){return e.json()}));case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){return S()?{Authorization:"Token "+localStorage.getItem(x),"Content-type":"application/json"}:void 0},w=function(){var e=Object(l.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"reviews?id="+t,{headers:g()}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"reviews",{method:"POST",body:JSON.stringify(t),headers:g()});case 2:if(201!==(c=e.sent).status){e.next=7;break}return e.next=6,c.json();case 6:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"login",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 2:if(void 0===(c=e.sent).token){e.next=6;break}return localStorage.setItem(x,c.token),e.abrupt("return",{success:!0});case 6:return e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"register",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 2:if(void 0===(c=e.sent).token){e.next=6;break}return localStorage.setItem(x,c.token),e.abrupt("return",{success:!0});case 6:return e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){return null!==localStorage.getItem(x)},_=c(0),C=function(){var e=Object(b.g)(),t=function(){var t=Object(l.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:localStorage.removeItem(x),e.push("/auth");case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(_.jsx)("div",{className:"nav",children:Object(_.jsxs)("div",{className:"nav-body",children:[Object(_.jsxs)("div",{className:"nav-container",children:[Object(_.jsx)(O.b,{to:"/",children:Object(_.jsxs)("h2",{className:"nav-logo",children:[Object(_.jsx)("span",{className:"sec-color font-large",children:"Z"}),Object(_.jsx)("span",{children:"eflex"})]})}),Object(_.jsxs)("ul",{className:"nav-items",children:[Object(_.jsx)(O.b,{to:"/movies",className:"nav-item",children:"Home"}),Object(_.jsx)(O.b,{to:"/discover",className:"nav-item",children:"Discover"})]})]}),Object(_.jsxs)("div",{className:"right",children:[Object(_.jsxs)("div",{className:"search",children:[Object(_.jsx)(o.a,{className:"icon"}),Object(_.jsx)("form",{action:"/movies",method:"get",children:Object(_.jsx)("input",{name:"q",type:"text",placeholder:"Search ..."})})]}),S()?Object(_.jsx)(u.a,{className:"icon",onClick:t}):Object(_.jsx)(O.b,{to:"/auth",children:"Log in"})]})]})})},R=c(65),q=c(66),B=c(67);c(41);var E=function(){var e=Object(n.useState)(!0),t=Object(d.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)([]),a=Object(d.a)(s,2),i=a[0],o=a[1],u=Object(n.useState)([]),O=Object(d.a)(u,2),h=O[0],x=O[1],v=Object(n.useState)([]),m=Object(d.a)(v,2),p=m[0],f=m[1],g=Object(n.useRef)(null),w=Object(n.useRef)(null),N=Object(n.useRef)(null),S=Object(b.g)(),E=function(e){!0===e&&S.push("/")},F=function(){var e=Object(l.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,k({username:w.current.value,password:g.current.value});case 3:c=e.sent,L(c),E(c.success);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,y({username:w.current.value,password:g.current.value,email:N.current.value});case 3:c=e.sent,L(c),E(c.success);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(e){e.success||(e.username?o(e.username):o([]),e.email?f(e.email):f([]),e.password&&x(e.password),e.non_field_errors&&x(e.non_field_errors),void 0===e.password&&void 0===e.non_field_errors&&x([]))};return Object(_.jsxs)("div",{className:"register",children:[Object(_.jsx)(C,{}),Object(_.jsx)("div",{id:"backdrop-img",children:Object(_.jsx)("img",{src:"https://assets.nflxext.com/ffe/siteui/vlv3/9c5457b8-9ab0-4a04-9fc1-e608d5670f1a/aad8cd4d-f4ac-49af-8539-25a81bf459d0/US-en-20210719-popsignuptwoweeks-perspective_alpha_website_large.jpg",alt:""})}),Object(_.jsxs)("div",{className:"input-container",children:[Object(_.jsxs)("div",{className:"form-selector",children:[Object(_.jsx)("div",{className:c?"form":"form selected",onClick:function(){return r(!1)},children:"Register"}),Object(_.jsx)("div",{className:c?"form selected":"form",onClick:function(){return r(!0)},children:"Log in"})]}),Object(_.jsxs)("form",{className:"form-data",children:[Object(_.jsxs)("div",{className:"form-inputs",children:[Object(_.jsxs)("div",{className:"form-input",children:[Object(_.jsx)(R.a,{className:"icon"}),Object(_.jsx)("input",{placeholder:"User Name",type:"text",ref:w}),Object(_.jsx)("span",{children:i})]}),!c&&Object(_.jsxs)("div",{className:"form-input",children:[Object(_.jsx)(q.a,{className:"icon"}),Object(_.jsx)("input",{placeholder:"email@example.com",type:"email",ref:N}),Object(_.jsx)("span",{children:p})]}),Object(_.jsxs)("div",{className:"form-input",children:[Object(_.jsx)(B.a,{className:"icon"}),Object(_.jsx)("input",{placeholder:"Password",type:"password",ref:g}),Object(_.jsx)("span",{children:h})]})]}),Object(_.jsxs)("div",{className:"form-actions",children:[c&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("p",{children:[Object(_.jsx)("span",{children:"Didn't create an account ? "})," ",Object(_.jsx)("span",{className:"link",onClick:function(){return r(!1)},children:"Register"})]}),Object(_.jsx)("button",{onClick:F,children:"Log In"})]}),!c&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("p",{children:[Object(_.jsx)("span",{children:"Already have an Account ? "})," ",Object(_.jsx)("span",{className:"link",onClick:function(){return r(!0)},children:"Log in"})]}),Object(_.jsx)("button",{onClick:I,children:"Register"})]})]})]})]})]})},F=(c(42),c(68)),I=c(69);c(43);function L(){return Object(_.jsx)("div",{className:"loader-wrapper",children:Object(_.jsx)("div",{className:"loader"})})}var T=function(e){return e.genres.map((function(e){return e.name})).join(" , ")};function A(){var e=Object(n.useState)(0),t=Object(d.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)([]),a=Object(d.a)(s,2),i=a[0],o=a[1];Object(n.useEffect)(Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(20);case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)}))),[]);return 0===i.length?Object(_.jsx)(L,{}):Object(_.jsx)("div",{className:"center",children:Object(_.jsxs)("div",{className:"itemswheel",children:[Object(_.jsx)("div",{className:"backdrop",children:Object(_.jsx)("img",{src:i[c].poster_path,alt:""})}),Object(_.jsx)("div",{className:"itemswheel-content",children:i.map((function(e,t){var n="";return t<c?n="left":t>c&&(n="right"),(t>c+1||t<c-1)&&(n+=" hidden"),Object(_.jsx)(O.b,{to:"movie/"+e.id,children:Object(_.jsx)("div",{className:"card",style:{pointerEvents:t===c?"auto":"none"},children:Object(_.jsxs)("div",{className:"card-content",children:[t===c?Object(_.jsxs)("div",{className:"card-data rounded",children:[Object(_.jsxs)("h2",{children:[" ",e.title]}),Object(_.jsxs)("span",{children:[" ",e.tagline]}),Object(_.jsxs)("table",{children:[Object(_.jsxs)("tr",{children:[Object(_.jsx)("thead",{children:"Language:"}),Object(_.jsxs)("td",{children:[" ",e.language]})]}),Object(_.jsxs)("tr",{children:[Object(_.jsx)("thead",{children:"Genres:"}),Object(_.jsxs)("td",{children:[" ",T(e)]})]})]})]}):"",Object(_.jsx)("div",{className:"image-wrapper",children:Object(_.jsx)("img",{className:n+" rounded",src:e.poster_path,alt:e.title})})]})},t)})}))}),Object(_.jsxs)("div",{className:"controllers",children:[Object(_.jsx)("div",{className:"icon",onClick:function(){c>0&&r(c-1)},children:Object(_.jsx)(F.a,{})}),Object(_.jsx)("div",{className:"icon",onClick:function(){c<i.length-1&&r(c+1)},children:Object(_.jsx)(I.a,{})})]})]})})}c(44);var D=function(){return Object(_.jsxs)("div",{className:"home",children:[Object(_.jsx)(C,{}),Object(_.jsx)(A,{})]})},J=c(18),P=c(7),X=(c(45),c(70)),z=c(71);c(46);function U(e){return Object(_.jsx)("div",{className:"review-stars",children:Object(J.a)(Array(5).keys()).map((function(t){var c=e.review;return c>=t+1?Object(_.jsx)(X.a,{className:"active"}):c>=t+.5?Object(_.jsx)(z.a,{className:"active"}):Object(_.jsx)(X.a,{})}))})}function G(e){var t,c=e.callBack,n=null!==(t=e.value)&&void 0!==t?t:0;return Object(_.jsx)("div",{className:"review-stars",children:Object(J.a)(Array(5).keys()).map((function(e){return Object(_.jsx)(X.a,{className:n>=e+1?"active":null,onClick:function(){return c(e+1)}})}))})}c(47);var K=c(72),M=c(73);function H(e){var t,c=Object(n.useRef)(""),r=function(e){var t=c.current.getBoundingClientRect(),n=c.current.parentNode.getBoundingClientRect();if("right"===e)t.x+t.width<=n.x+n.width?c.current.style.transform="translateX(0px)":c.current.style.transform="translateX("+(t.x-300)+"px)";else if("left"===e)if(t.x>=n.x)c.current.style.transform="translateX("+(n.width-t.width)+"px)";else{var r=t.x+300;c.current.style.transform="translateX("+r+"px)"}};return Object(_.jsx)("div",Object(P.a)(Object(P.a)({},e),{},{children:Object(_.jsxs)("div",{className:"carousel",children:[Object(_.jsx)(K.a,{className:"icon left",onClick:function(){return r("left")}}),Object(_.jsx)(M.a,{className:"icon right",onClick:function(){return r("right")}}),Object(_.jsx)("div",{className:"carousel-wrapper",ref:c,children:null===(t=e.children)||void 0===t?void 0:t.map((function(e){return Object(_.jsx)("div",{className:"carousel-card selected",children:e})}))})]})}))}var W=c(74),Y=c(75),Z=function(e){var t,c=Object(n.useState)({}),r=Object(d.a)(c,2),s=r[0],a=r[1],i=Object(n.useState)([]),o=Object(d.a)(i,2),u=o[0],O=o[1],h=Object(n.useState)(!1),x=Object(d.a)(h,2),m=x[0],p=x[1],f=Object(n.useState)(!1),g=Object(d.a)(f,2),k=g[0],y=g[1],S=Object(n.useState)(!1),R=Object(d.a)(S,2),q=R[0],B=R[1],E=Object(n.useState)({directing:0,writing:0,cinematography:0,editing:0,acting:0,sound:0,comment:"."}),F=Object(d.a)(E,2),I=F[0],T=F[1],A=Object(b.g)(),D=Object(b.i)().movieid;Object(n.useEffect)(Object(l.a)(j.a.mark((function e(){var t,c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(D);case 2:return t=e.sent,a(t),p(!0),e.next=7,w(D);case 7:for(n in c=e.sent,u)n.isExpanded=!1;O(c.reviews),B(c.can_review);case 11:case"end":return e.stop()}}),e)}))),[]);var X=function(e){var t=u.slice();t[e].isExpanded=!t[e].isExpanded,O(t)},z=function(){var e=Object(l.a)(j.a.mark((function e(t){var c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(P.a)(Object(P.a)({},I),{},{movie:D}),e.next=3,N(c);case 3:(n=e.sent)&&(B(!1),O([n].concat(Object(J.a)(u))));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)("div",{children:[Object(_.jsx)(C,{}),m?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{className:"backdrop-wrapper",children:Object(_.jsx)("div",{className:"backdrop-right",children:Object(_.jsx)("img",{src:s.poster_path,alt:""})})}),Object(_.jsxs)("div",{className:"movie",children:[Object(_.jsxs)("div",{className:"movie-details",children:[Object(_.jsxs)("h1",{children:[Object(_.jsx)("span",{children:s.title})," ",Object(_.jsx)("span",{className:"badge md sec",children:s.language})]}),Object(_.jsxs)("div",{className:"review-imdb",children:[Object(_.jsxs)("div",{className:"review",onClick:function(){return y(!k)},children:[Object(_.jsx)(U,{review:s.review.avg_review}),Object(_.jsx)("p",{className:"badge gold sm",children:null!==(t=s.review.avg_review)&&void 0!==t?t:0}),Object(_.jsxs)("p",{className:"review-count",children:["(",s.review.reviewers_count,")"]})]}),Object(_.jsxs)("a",{href:"https://www.imdb.com/title/"+s.imdb_id,children:[" ",Object(_.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/6/69/IMDB_Logo_2016.svg",alt:""})]})]}),Object(_.jsx)("div",{className:"genres",children:s.genres.map((function(e){return Object(_.jsxs)("span",{className:"badge sm",onClick:function(){return t=e.name,A.push("/movies?genre="+t);var t},children:[" ",e.name]},e.id)}))}),Object(_.jsx)("p",{className:"tagline",children:s.tagline}),Object(_.jsx)("p",{children:s.overview}),s.videos.length>0&&!k&&Object(_.jsx)(H,{className:"videos",children:s.videos.map((function(e){return Object(_.jsx)("iframe",{width:"300px",src:"https://www.youtube.com/embed/"+e.link,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write;  gyroscope; picture-in-picture "},e.id)}))})]}),k&&Object(_.jsxs)("div",{className:"movie-reviews",children:[q&&Object(_.jsxs)("div",{className:"movie-review-input",children:[Object(_.jsxs)("table",{className:"review-stars-table",children:[Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"Directing"}),Object(_.jsx)("td",{children:Object(_.jsx)(G,{value:I.directing,callBack:function(e){T(Object(P.a)(Object(P.a)({},I),{},{directing:e}))}})})]}),Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"Writing"}),Object(_.jsx)("td",{children:Object(_.jsx)(G,{value:I.writing,callBack:function(e){T(Object(P.a)(Object(P.a)({},I),{},{writing:e}))}})})]}),Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"Cinematography"}),Object(_.jsx)("td",{children:Object(_.jsx)(G,{value:I.cinematography,callBack:function(e){T(Object(P.a)(Object(P.a)({},I),{},{cinematography:e}))}})})]}),Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"Editing"}),Object(_.jsx)("td",{children:Object(_.jsx)(G,{value:I.editing,callBack:function(e){T(Object(P.a)(Object(P.a)({},I),{},{editing:e}))}})})]}),Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"Acting"}),Object(_.jsx)("td",{children:Object(_.jsx)(G,{value:I.acting,callBack:function(e){T(Object(P.a)(Object(P.a)({},I),{},{acting:e}))}})})]}),Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"Sound"}),Object(_.jsx)("td",{children:Object(_.jsx)(G,{value:I.sound,callBack:function(e){T(Object(P.a)(Object(P.a)({},I),{},{sound:e}))}})})]})]}),Object(_.jsxs)("div",{className:"review-input",children:[Object(_.jsx)("textarea",{onChange:function(e){return T(Object(P.a)(Object(P.a)({},I),{},{comment:e.target.value}))},required:!0,placeholder:"Review "+s.title}),Object(_.jsx)("button",{type:"button",onClick:z,children:"Review"})]})]}),u.map((function(e,t){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:"movie-review",children:[Object(_.jsxs)("div",{className:"review-comment",children:[Object(_.jsx)("h3",{children:e.reviewer}),Object(_.jsx)("p",{children:e.comment})]}),Object(_.jsx)("div",{className:"right",children:e.isExpanded?Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("table",{className:"review-stars-table",children:[Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"directing"}),Object(_.jsx)("td",{children:Object(_.jsx)(U,{review:e.directing})}),Object(_.jsx)("td",{children:Object(_.jsx)(W.a,{className:"icon",onClick:function(){return X(t)}})})]}),Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"writing"}),Object(_.jsx)("td",{children:Object(_.jsx)(U,{review:e.writing})})]}),Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"cinematography"}),Object(_.jsx)("td",{children:Object(_.jsx)(U,{review:e.cinematography})})]}),Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"editing"}),Object(_.jsx)("td",{children:Object(_.jsx)(U,{review:e.editing})})]}),Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"acting"}),Object(_.jsx)("td",{children:Object(_.jsx)(U,{review:e.acting})})]}),Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"sound"}),Object(_.jsx)("td",{children:Object(_.jsx)(U,{review:e.sound})})]})]})}):Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("table",{className:"review-stars-table",children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:"Review"}),Object(_.jsx)("td",{children:Object(_.jsx)(U,{review:e.avg_review})}),Object(_.jsx)("td",{children:Object(_.jsx)(Y.a,{className:"icon",onClick:function(){return X(t)}})})]})})})})]},e.id),Object(_.jsx)("hr",{})]})}))]})]})]}):Object(_.jsx)(L,{})]})},Q=(c(48),c(49),c(76)),V=c(77),$=c(78);c(50);function ee(e){return Object(_.jsx)(O.c,{to:"/movie/"+e.movie.id,children:Object(_.jsxs)("div",{className:"movie-card",children:[Object(_.jsx)("div",{className:"movie-poster",children:Object(_.jsx)("img",{src:e.movie.poster_path,alt:e.movie.title+" poster"})}),Object(_.jsxs)("div",{className:"movie-title",children:[Object(_.jsx)("div",{className:"movie-name",children:e.movie.title}),Object(_.jsxs)("div",{className:"movie-year",children:["(",e.movie.release_date.split("-")[0],")"]})]})]})})}var te=function(e){var t=Object(n.useState)(!1),c=Object(d.a)(t,2),r=c[0],s=c[1],a=Object(n.useState)([]),i=Object(d.a)(a,2),o=i[0],u=i[1],b=Object(n.useState)(!1),O=Object(d.a)(b,2),h=O[0],x=O[1],v=Object(n.useState)([]),m=Object(d.a)(v,2),g=m[0],w=m[1],N=Object(n.useState)(1),k=Object(d.a)(N,2),y=k[0],S=k[1],R=Object(n.useState)(1),q=Object(d.a)(R,2),B=q[0],E=q[1],F=Object(n.useState)(!0),I=Object(d.a)(F,2),T=I[0],A=I[1];Object(n.useEffect)(Object(l.a)(j.a.mark((function t(){var c,n,r,s,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={genres:null!==(c=e.genre)&&void 0!==c?c:void 0,query:null!==(n=e.query)&&void 0!==n?n:void 0},t.next=3,p(r,1);case 3:return s=t.sent,w(s.movies),E(1),S(s.pages_number),A(!1),t.next=10,f();case 10:(a=t.sent).forEach((function(t,c){t.selected=t.name===e.genre,t.id=c})),u(a);case 13:case"end":return t.stop()}}),t)}))),[]);var D=function(){var e=Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.next=3,p(P(),B+1);case 3:t=e.sent,E(t.page),w([].concat(Object(J.a)(g),Object(J.a)(t.movies))),A(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var t,c={};return c.genres=o.filter((function(e){return e.selected})).reduce((function(e,t){return e+t.name+","}),""),c.query=null!==(t=e.query)&&void 0!==t?t:void 0,c.forKids=h,""!==z.current.value&&(c.release_year=z.current.value),c},X=function(){var e=Object(l.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=P(),A(!0),e.next=4,p(t);case 4:c=e.sent,w(c.movies),S(c.pages_number),E(1),A(!1),s(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=Object(n.useRef)(""),U=Object(n.useRef)("");return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{className:"backdrop-wrapper"}),Object(_.jsx)(C,{}),Object(_.jsx)("div",{className:"filter-icon",onClick:function(){return s(!r)},children:Object(_.jsx)(Q.a,{className:"icon"})}),Object(_.jsx)("div",{className:r?"drawer":"drawer hidden",children:Object(_.jsxs)("div",{className:"drawer-content",children:[Object(_.jsx)("h3",{children:"Genres:"}),Object(_.jsx)("div",{className:"genre-container",children:o.map((function(e){return Object(_.jsx)("div",{className:!0===e.selected?"genre selected":"genre",onClick:function(){return function(e){var t=o.slice();t[e].selected=!t[e].selected,u(t)}(e.id)},children:e.name},e.id)}))}),Object(_.jsx)("hr",{className:"fullwidth"}),Object(_.jsxs)("div",{className:"flex f-between fullwidth padding-v sm",onClick:function(){return x(!h)},children:[Object(_.jsx)("h3",{children:"For Kids:"}),h?Object(_.jsx)(V.a,{}):Object(_.jsx)($.a,{})]}),Object(_.jsx)("hr",{className:"fullwidth"}),Object(_.jsxs)("div",{className:"flex f-between fullwidth padding-v sm",children:[Object(_.jsx)("h3",{children:"Release year:"}),Object(_.jsx)("input",{className:"input-text",type:"number",placeholder:"2021",ref:z})]}),Object(_.jsx)("hr",{className:"fullwidth"}),Object(_.jsx)("button",{type:"button",onClick:X,children:"Filter"})]})}),0===g.length?Object(_.jsx)("h1",{className:"notfound",children:"Ooops we didn't find any Result"}):Object(_.jsx)("div",{className:"movie-cards-container",ref:U,children:g.map((function(e){return Object(_.jsx)(ee,{movie:e})}))}),T?Object(_.jsx)(L,{}):Object(_.jsx)(_.Fragment,{children:B<y&&Object(_.jsx)("div",{className:"bottom",children:Object(_.jsx)("h3",{onClick:D,children:"Load more"})})})]})};function ce(){var e=new URLSearchParams(Object(b.h)().search);return Object(_.jsx)(te,{query:e.get("q"),genre:e.get("genre")})}a.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(O.a,{children:Object(_.jsxs)(b.d,{children:[Object(_.jsx)(b.b,{exact:!0,path:"/auth",children:Object(_.jsx)(E,{})}),Object(_.jsx)(b.b,{exact:!0,path:"/movies",children:Object(_.jsx)(ce,{})}),Object(_.jsx)(b.b,{exact:!0,path:"/movie/:movieid",children:Object(_.jsx)(Z,{})}),Object(_.jsx)(b.b,{exact:!0,path:"/discover",children:Object(_.jsx)(D,{})}),Object(_.jsx)(b.b,{path:"",children:Object(_.jsx)(b.a,{to:"/movies"})})]})})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.33befe32.chunk.js.map